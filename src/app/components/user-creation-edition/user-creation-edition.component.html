<div class="container">
    <div class="row">
        <div class="col s12 m3 l3"></div>
        <div class="col s12 m6 l6">
        <div *ngIf="user" class="card horizontal">
            <div class="card-stacked">
              <div class="card-content">
                  <form action="">
                      <div class="input-field col s12">
                          <input class="active" #login type="text" [(ngModel)]="user.login" name="user.login.value">
                          <label for="login">Usuário</label>
                      </div>

                      <div class="input-field col s12">
                          <input [(ngModel)]="user.password" type="password" name="user.password.value">
                          <label for="password">Senha</label>
                      </div>

                      <div class="input-field col s12">
                          <mat-form-field>
                            <mat-select  [(value)]="user.access_level" placeholder="Nível de acesso">
                              <mat-option *ngFor="let access_level of access_levels" [value]="access_level.name">
                                {{access_level.name}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>
                  </form>
              </div>
              <div class="card-action">
                  <button class="waves-effect waves-light btn gradient-45deg-red-pink" (click)="goBack()">Voltar</button>
                  <button class="waves-effect waves-light btn gradient-45deg-red-pink"
                  (click)="updateUser()">Salvar</button>
              </div>
            </div>
          </div>

        <div *ngIf="!user" class="card horizontal">
            <div class="card-stacked">
              <div class="card-content">
                  <form action="">
                      <div class="input-field col s12">
                        <input #login id="login" type="text" class="validate">
                        <label for="login">Usuário</label>
                      </div>

                      <div class="input-field col s12">
                          <input #password id="password" type="password" class="validate">
                          <label for="password">Senha</label>
                      </div>

                      <div class="input-field col s12">
                          <mat-form-field>
                            <mat-select  [(value)]="access_level_select" placeholder="Nível de acesso">
                              <mat-option *ngFor="let access_level of access_levels" [value]="access_level.name">
                                {{access_level.name}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>
                  </form>
              </div>
              <div class="card-action">
                  <button class="waves-effect waves-light btn gradient-45deg-red-pink" (click)="goBack()">Voltar</button>
                  <button class="waves-effect waves-light btn gradient-45deg-red-pink"
                  type="submit" (click)="createUser(login.value, password.value, access_level_select)">Criar</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col s12 m3 l3"></div>
    </div>
  </div>
